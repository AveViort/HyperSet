<link type="text/css" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/start/jquery-ui.css" />
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
<script src="../jquery.ui-contextmenu.js"></script>

<style type="text/css">
  .hasmenu {
	border: 1px solid #008;
	margin: 3px;
	padding: 5px;
	width: 30px;
  }
  .ui-widget{
	font-size: .8em;
  }
  table, td {
  border: 1px solid dimgray;
  }
</style>

<script type="text/javascript">
  $(document).ready(function () {

	function action (event, ui) {
	  console.log(ui.target);
	};

	$("#details").contextmenu({
	delegate: ".hasmenu",
	menu: [
	  {title: "Option 1 title", cmd: 'opt1', action: action},
	  {title: "-" },
	  {title: "Option 2 title", cmd: 'opt2', action: action}
	],
	beforeOpen: function(event, ui) {
	  var titleText = 'record ' + ui.target.parent().attr('record');
	  $("#details").contextmenu("setEntry", "opt1", {title: titleText});
	  $("#details").contextmenu("setEntry", "opt2", {uiIcon: "ui-icon-closethick"});
	  $("#details").contextmenu("getMenu");
	  // $("#details").contextmenu("setEntry", "opt2", titleText);
	}
	});

  });
</script>

<table id="details" class="table">
  <thead>
	<tr>
	  <th>Id</th>
	  <th>File Name</th>
	<tr />
  </thead>
  <tbody>
	<tr record="1" class="hasmenu">
	  <td>1</td>
	  <td>Record 1</td>
	</tr>
	<tr record="2" class="hasmenu">
	  <td>2</td>
	  <td>Record 2</td>
	</tr>
  </tbody>
</table>
