<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Refit a fitted model with all available optimizers</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for allFit {lme4}"><tr><td>allFit {lme4}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Refit a fitted model with all available optimizers</h2>

<h3>Description</h3>

<p>Attempt to re-fit a [g]lmer model with a range of optimizers.
The default is to use all known optimizers for R that satisfy the
requirements (do not require explicit gradients, allow
box constraints), in three categories; (i) built-in
(minqa::bobyqa, lme4::Nelder_Mead, nlminbwrap), (ii) wrapped via optimx
(most of optimx's optimizers that allow box constraints require
an explicit gradient function to be specified; the two provided
here are really base R functions that can be accessed via optimx,
(iii) wrapped via nloptr; (iv)
</p>


<h3>Usage</h3>

<pre>
allFit(m, meth.tab = NULL, data=NULL,
        verbose = TRUE,
        show.meth.tab = FALSE,
        maxfun = 1e5,
	parallel = c("no", "multicore", "snow"),
	ncpus = getOption("allFit.ncpus", 1L), cl = NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>m</code></td>
<td>
<p>a fitted model</p>
</td></tr>
<tr valign="top"><td><code>meth.tab</code></td>
<td>
<p>a matrix (or data.frame) with columns
</p>

<dl>
<dt>method</dt><dd><p>the name of a specific optimization method to pass
to the optimizer (leave blank for built-in optimizers)</p>
</dd>
<dt>optimizer</dt><dd><p>the <code>optimizer</code> function to use</p>
</dd>
</dl>

</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<p>data to be included with result (for later debugging etc.)</p>
</td></tr>
<tr valign="top"><td><code>verbose</code></td>
<td>
<p>logical: report progress in detail?</p>
</td></tr>
<tr valign="top"><td><code>show.meth.tab</code></td>
<td>
<p>logical: return table of methods?</p>
</td></tr>
<tr valign="top"><td><code>maxfun</code></td>
<td>
<p>passed as part of <code>optCtrl</code> (see <code><a href="../../nlme/html/lmeControl.html">lmeControl</a></code>)</p>
</td></tr>
<tr valign="top"><td><code>parallel</code></td>
<td>
<p>The type of parallel operation to be used (if any).
If missing, the
default is taken from the option <code>"boot.parallel"</code> (and if that
is not set, <code>"no"</code>).</p>
</td></tr>
<tr valign="top"><td><code>ncpus</code></td>
<td>
<p>integer: number of processes to be used in parallel operation:
typically one would choose this to be the number of available CPUs.</p>
</td></tr>
<tr valign="top"><td><code>cl</code></td>
<td>
<p>An optional <span class="pkg">parallel</span> or <span class="pkg">snow</span> cluster for use if
<code>parallel = "snow"</code>.  If not supplied, a cluster on the
local machine is created for the duration of the <code>boot</code> call.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of fitted <code>merMod</code> objects (unless <code>show.meth.tab</code> is
specified, in which case a data frame of methods is returned)
</p>


<h3>Note</h3>

<p>If you are using <code>parallel="snow"</code>, you will need to run
<code>clusterEvalQ(cl,library("lme4"))</code> before calling
<code>allFit</code> to make sure that the
<code>lme4</code> package is loaded on all of the workers
</p>


<h3>See Also</h3>

<p><code><a href="../../bbmle/html/slice.html">slice</a></code>,<code><a href="../../bbmle/html/slice2D.html">slice2D</a></code></p>


<h3>Examples</h3>

<pre>
library(lme4)
gm1 &lt;- glmer(cbind(incidence, size - incidence) ~ period + (1 | herd),
             data = cbpp, family = binomial)
## show available methods
allFit(show.meth.tab=TRUE) 
gm_all &lt;- allFit(gm1)
ss &lt;- summary(gm_all)
ss$fixef               ## extract fixed effects
ss$llik                ## log-likelihoods
ss$sdcor               ## SDs and correlations
ss$theta               ## Cholesky factors
ss$which.OK            ## which fits worked
</pre>

<hr /><div style="text-align: center;">[Package <em>lme4</em> version 1.1-19 <a href="00Index.html">Index</a>]</div>
</body></html>
