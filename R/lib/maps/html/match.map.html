<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Index map regions</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for match.map {maps}"><tr><td>match.map {maps}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Index map regions
</h2>

<h3>Description</h3>

<p>Assigns an index to each map region, useful for map coloring.
</p>


<h3>Usage</h3>

<pre>
match.map(database, regions, exact = FALSE, warn = TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>database</code></td>
<td>

<p>character string naming a geographical database, or a map object.
See the documentation for <code><a href="map.html">map</a></code> for more details.
</p>
</td></tr>
<tr valign="top"><td><code>regions</code></td>
<td>

<p>a vector of names, or more generally regular expressions
to match against the map region names.
</p>
</td></tr>
<tr valign="top"><td><code>exact</code></td>
<td>
<p>If <code>TRUE</code>, only exact matches with <code>regions</code>
are considered.  Otherwise each element of <code>regions</code> is assumed
to be a regular expression.
Matches are always case-insensitive.</p>
</td></tr>
<tr valign="top"><td><code>warn</code></td>
<td>
<p>If <code>TRUE</code>, a warning is printed when an element of
<code>regions</code> matches nothing in the map.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an integer vector giving an index to each region in the database.
The index is the index of the string in <code>regions</code> which matches the
region name.  Matching is done as in <code><a href="map.html">map</a></code>.
More specifically, all regions <code>r</code> whose name matches 
<code>regions[i]</code> will have index <code>i</code>.
Unmatched regions will have index <code>NA</code>.
Overlapping matches cause an error.
</p>
<p>This behavior differs from <code><a href="../../base/html/pmatch.html">pmatch</a></code> because a single entry
in <code>regions</code> may match several entries in the map.
</p>


<h3>Author(s)</h3>

<p>Tom Minka</p>


<h3>References</h3>

<p>Richard A. Becker, and Allan R. Wilks,
&quot;Maps in S&quot;,
<em>AT\&amp;T Bell Laboratories Statistics Research Report, 1991.</em>
<a href="http://ect.bell-labs.com/sl/doc/93.2.ps">http://ect.bell-labs.com/sl/doc/93.2.ps</a>
</p>


<h3>See Also</h3>

<p><code><a href="../../base/html/grep.html">grep</a></code></p>


<h3>Examples</h3>

<pre>
# filled map showing Republican vote in 1900
# (figure 6 in the reference)
data(state, package = "datasets")
data(votes.repub)
state.to.map &lt;- match.map("state", state.name)
x &lt;- votes.repub[state.to.map, "1900"]
gray.colors &lt;- function(n) gray(rev(0:(n - 1))/n)
color &lt;- gray.colors(100)[floor(x)]
map("state", fill = TRUE, col = color); map("state", add = TRUE)
</pre>

<hr /><div style="text-align: center;">[Package <em>maps</em> version 3.3.0 <a href="00Index.html">Index</a>]</div>
</body></html>
