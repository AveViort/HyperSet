<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Class &quot;TissueDrawing&quot;</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for TissueDrawing-class {Vennerable}"><tr><td>TissueDrawing-class {Vennerable}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Class &quot;TissueDrawing&quot; </h2>

<h3>Description</h3>

<p>A class used internally to implement polygon-polgyon clipping
</p>


<h3>Objects from the Class</h3>

<p>The class describes diagrams which are constructed by superposing simple polygons (ie those with no holes or self-intersections), called Sets. 
If the Sets are filled with semi-transparent colours, the resulting diagram will have different
regions or Faces depending on the intersections between the sets. The boundaries of these regions will not necessarily
be simple. (For example one circle may have two other circles nested inside it).
A simple model for this process is superpsosing Sets made out of tissue paper, hence the name of the class, which was nearly called
a MAGDrawing after the perspex and lightbox exhibit in the children's gallery of the Manchester Art Gallery.
which also acted as a prototype.
</p>
<p>Points where the Sets intersect are always identified and named within the object.
Sets which partially share a common boundary are defined not to intersect on that common boundary,
so there are only a finite number of intersection points. Each Face contains at least one
named point so additional named points will be introduced for each Face that has no other intersections.
In addition, named points may be introduced to make some of the hidden-line alogorithms easier.
These additional named points can be removed (sometimes) with the function <code>remove.nonintersectionpoints</code>
which leaves the remaining points as the nodes of the graph defined by the Set intersections.
</p>
<p>Set and Face boundaries are made up of named edges, each of which starts and finishes at the named points.
Each edge can be either a polygonal segment or a sector of a circle. All of the Faces
in a <code>TissueDrawing</code> are connected to each other (ie the graph is connected), if necessary
by adding invisible edges which are not part of the boundary of any set.
</p>
<p>Objects can be created by calls to the functions <code>newTissueFromPolygon()</code> or 
<code>newTissueFromCircle</code>, and combined with the function <code>addSetToDrawing</code>).
</p>


<h3>Slots</h3>


<dl>
<dt><code>setList</code>:</dt><dd><p>Named <code>"list"</code>, with names given by the name of each Set. Each entry is a character vector of edge names </p>
</dd>
<dt><code>nodeList</code>:</dt><dd><p>Named <code>"list"</code>, with a 1x2 numeric matrix of $(x,y)$ coordinates for each named point. </p>
</dd>
<dt><code>recentChanges</code>:</dt><dd><p>Nasty bodge slot required by internal algorithms </p>
</dd>
<dt><code>edgeList</code>:</dt><dd><p>A <code>TDEdgeList</code>, a named list of <code>TDedgeDrawn</code> objects defining the geometry of each edge </p>
</dd>
<dt><code>faceList</code>:</dt><dd><p>A <code>TDFaceList</code>, a named <code>"list"</code>, with one element for each correspondingly named face, listing the edges of that face in clockwise order </p>
</dd>
<dt><code>faceSignature</code>:</dt><dd><p>Named  <code>"list"</code>, with names the same as <code>faceList</code>, giving the signature for the face.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="Vennerable-internal.html">TDEdgeList</a>"</code>, directly.
Class <code>"<a href="Vennerable-internal.html">TDFaceList</a>"</code>, directly.
</p>


<h3>Methods</h3>


<dl>
<dt>PlotFaces</dt><dd><p><code>signature(drawing = "TissueDrawing")</code>: Displays the faces of the drawing on the current graphics device </p>
</dd>
<dt>PlotNodes</dt><dd><p><code>signature(drawing = "TissueDrawing")</code>: Displays the named points of the drawing </p>
</dd>
<dt>PlotSetBoundaries</dt><dd><p><code>signature(drawing = "TissueDrawing")</code>: Displays the Set boundaries of the drawing </p>
</dd>
<dt>show</dt><dd><p><code>signature(object = "TissueDrawing")</code>: Prints a summary of the drawing </p>
</dd>
</dl>



<h3>Note</h3>

<p>Adding even two overlapping simple polygons together can result in multiple
intersections regions. Finding the boundaries of these intersections,
keeping track of which have come from which combination of sets, and, in particular, coping with 
faces embedded inside outher faces is the problem of polygon-polygon clipping. 
This class is designed to solve that problem for the combinations of Sets used
in the <code>Vennerable</code> package. It is not designed as a general clipping tool, and 
can be very slow, particular for clipping of general polygons. For example, the four ellipse
plot is currently implemented as a combination of many short-segment polygons and several minutes
to run. 
</p>
<p>Care is taken to keep track of the outside boundary of all of the sets, or equivalently the inside
boundary of the 'dark matter', the Face defined as the region where none of the Sets intersect.
Nevertheless this portion of the code is currently quite buggy and this can lead to errors in some computed diagrams.
</p>


<h3>Author(s)</h3>

<p>Jonathan Swinton, jonathan@swintons.net</p>


<h3>Examples</h3>

<pre>
showClass("TissueDrawing")
</pre>

<hr /><div style="text-align: center;">[Package <em>Vennerable</em> version 3.1.0.9000 <a href="00Index.html">Index</a>]</div>
</body></html>
