<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Download data from NCBI databases</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for entrez_fetch {rentrez}"><tr><td>entrez_fetch {rentrez}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Download data from NCBI databases</h2>

<h3>Description</h3>

<p>Pass unique identifiers to an NCBI database and receive data files in a
variety of formats.
A set of unique identifiers mustbe specified with either the <code>db</code>
argument (which directly specifies the IDs as a numeric or character vector)
or a <code>web_history</code> object as returned by 
<code><a href="entrez_link.html">entrez_link</a></code>, <code><a href="entrez_search.html">entrez_search</a></code> or 
<code><a href="entrez_post.html">entrez_post</a></code>.
</p>


<h3>Usage</h3>

<pre>
entrez_fetch(db, id = NULL, web_history = NULL, rettype, retmode = "",
  parsed = FALSE, config = NULL, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>db</code></td>
<td>
<p>character, name of the database to use</p>
</td></tr>
<tr valign="top"><td><code>id</code></td>
<td>
<p>vector (numeric or character), unique ID(s) for records in database
<code>db</code>. In the case of sequence databases these IDs can take form of an
NCBI accession followed by a version number (eg AF123456.1 or AF123456.2).</p>
</td></tr>
<tr valign="top"><td><code>web_history, </code></td>
<td>
<p>a web_history object</p>
</td></tr>
<tr valign="top"><td><code>rettype</code></td>
<td>
<p>character, format in which to get data (eg, fasta, xml...)</p>
</td></tr>
<tr valign="top"><td><code>retmode</code></td>
<td>
<p>character, mode in which to receive data, defaults to an empty
string (corresponding to the default mode for rettype).</p>
</td></tr>
<tr valign="top"><td><code>parsed</code></td>
<td>
<p>boolean should entrez_fetch attempt to parse the resulting 
file. Only works with xml records (including those with rettypes other than
&quot;xml&quot;) at present</p>
</td></tr>
<tr valign="top"><td><code>config</code></td>
<td>
<p>vector, httr configuration options passed to httr::GET</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>character, additional terms to add to the request, see NCBI
documentation linked to in references for a complete list</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The format for returned records is set by that arguments <code>rettype</code> (for
a particular format) and <code>retmode</code> for a general format (JSON, XML text
etc). See  <a href="https://www.ncbi.nlm.nih.gov/books/NBK25499/table/chapter4.T._valid_values_of__retmode_and/">Table 1</a> 
in the linked reference for the set of 
formats available for each database. In particular, note that sequence
databases (nuccore, protein and their relatives) use specific format names
(eg &quot;native&quot;, &quot;ipg&quot;) for different flavours of xml.
</p>
<p>For the most part, this function returns a character vector containing the 
fetched records. For XML records (including 'native', 'ipg', 'gbc' sequence
records), setting <code>parsed</code> to <code>TRUE</code> will return an
<code>XMLInternalDocument</code>,
</p>


<h3>Value</h3>

<p>character string containing the file created
</p>
<p>XMLInternalDocument a parsed XML document if parsed=TRUE and
rettype is a flavour of XML.
</p>


<h3>References</h3>

<p><a href="http://www.ncbi.nlm.nih.gov/books/NBK25499/#_chapter4_EFetch_">http://www.ncbi.nlm.nih.gov/books/NBK25499/#_chapter4_EFetch_</a>
</p>


<h3>See Also</h3>

<p><code><a href="../../httr/html/config.html">config</a></code> for available '<code>httr</code>' configs
</p>


<h3>Examples</h3>

<pre>
## Not run: 
katipo &lt;- "Latrodectus katipo[Organism]"
katipo_search &lt;- entrez_search(db="nuccore", term=katipo)
kaitpo_seqs &lt;- entrez_fetch(db="nuccore", id=katipo_search$ids, rettype="fasta")
#xml
kaitpo_seqs &lt;- entrez_fetch(db="nuccore", id=katipo_search$ids, rettype="native")

## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>rentrez</em> version 1.2.1 <a href="00Index.html">Index</a>]</div>
</body></html>
