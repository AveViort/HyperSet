<!DOCTYPE html>
<HTML>
<HEAD>
<TITLE>EviNet: view subnet</TITLE>

<LINK href="pics/favicon.ico" rel="shortcut icon">
<LINK href="hyperset.css" type="text/css" rel="stylesheet">
<LINK href="js/jquery-ui-themes-1.12.1/themes/blitzer/jquery-ui.min.css" type="text/css" rel="stylesheet">
<LINK href="js/jquery-ui-themes-1.12.1/themes/blitzer/jquery-ui-1.12.icon-font.min.css" type="text/css" rel="stylesheet">
<LINK href="js/qTip/jquery.qtip.min.css" type="text/css" rel="stylesheet">
<link href="js/colorpicker-master/css/evol.colorpicker.css" rel="stylesheet" type="text/css">
<link href="js/Cytoscape.js/cytoscape-cytoscape.js-panzoom-c1dbe79/cytoscape.js-panzoom.css" rel="stylesheet" type="text/css" />
<link href="js/Cytoscape.js/cytoscape-cytoscape.js-panzoom-c1dbe79/font-awesome-4.0.3/css/font-awesome.css" rel="stylesheet" type="text/css" />
<link href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css">
<link href="//cdn.datatables.net/buttons/1.5.6/css/buttons.dataTables.min.css" rel="stylesheet" type="text/css">
<link href="//cdn.datatables.net/tabletools/2.2.3/css/dataTables.tableTools.css" rel="stylesheet" type="text/css">
<link href="//cdn.datatables.net/1.10.19/css/dataTables.jqueryui.min.css" type="text/css">
<link href="//cdn.datatables.net/responsive/1.0.4/css/dataTables.responsive.css" type="text/css">

<script src="js/jquery-3.3.1.min.js" type="text/javascript"></script>
<script src="js/jquery-ui-1.12.1.custom/jquery-ui.min.js" type="text/javascript"></script>
<script src="js/jquery-ui-contextmenu-master/jquery.ui-contextmenu.min.js" type="text/javascript"></script>  
<script src="js/jquery.form.js" type="text/javascript"></script>  
<script src="js/Cytoscape.js/cytoscape.min.js" type="text/javascript"></script>  
<!--script src="js/cytoscape.js-cxtmenu-master/cytoscape-cxtmenu.js" type="text/javascript"></script-->
<script src="js/cytoscape.js-cxtmenu-master/cytoscape-cxtmenu.js" type="text/javascript"></script>
<script src="js/Cytoscape.js/cytoscape-cytoscape.js-panzoom-c1dbe79/cytoscape.js-panzoom.js" type="text/javascript"></script>
<script src="js/overlib.js" type="text/javascript"></script>
<script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="//cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js" type="text/javascript"></script>
<script src="//cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js" type="text/javascript"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" type="text/javascript"></script>
<script src="//cdn.datatables.net/tabletools/2.2.3/js/dataTables.tableTools.js" type="text/javascript"></script>
<script src="//cdn.datatables.net/responsive/1.0.4/js/dataTables.responsive.js" type="text/javascript"></script>
<script src="js/qTip/jquery.qtip.min.js" type="text/javascript"></script>
<script src="js/colorpicker-master/js/evol.colorpicker.js" type="text/javascript" charset="utf-8"></script> 

<script src="js/Cytoscape.js/cytoscape.js-qtip-master/jquery.cytoscape.js-qtip.js" type="text/javascript"></script>
<script src="js/Cytoscape.js/cytoscape.js-edgehandles.js" type="text/javascript"></script>

<script src="js/HS.js" type="text/javascript" charset="utf-8"></script>


<script type="text/javascript">
function show()
{
		var subnet_params = localStorage.getItem("subnet_params");
		var context_genes = ['PAX6','AISL1','ASLC2A2','ADCX','AFOXA2','AGCK','AINS','APDX1','AFOXO1','AGCG','APAX4','AHNF1A','ASTXBP1','ALMO2'];
		var genes= ['SNTG1','ALECT1','AFGFBP3','ALPAR4','ASLC2A1','ASPRY4','AGATA6','ACACNG4','AOTX2','APOU3F1','AHS3ST4'];
		var div_content = '';
		var xmlhttp = new XMLHttpRequest();
		xmlhttp.open('GET', 'https://dev.evinet.org/cgi/i.cgi?mode=standalone&username=&sid=&signature=&neafile=default&step=default&subneturlbox=' + encodeURIComponent('reduce=;reduce_by=noislets;qvotering=quota;show_names=Names;keep_query=yes;coff=-0.5;ags_fgs=yes;species=hsa;context_genes=' + context_genes.join('%0D%0') + ';genes=' + genes.join('%0D%0') + ';order=0;networks=data_pwc9;no_of_links=1000') + ';action=' + encodeURIComponent('subnet-1___USERS_LIST_AGS___HALLMARK_PANCREAS_BETA_CELLS___fromCytoscapeJS') + ';changeLayout=arbor;saveCytoscapeView=saveCyView;input-save-cy-view=CytoScapeView1;caseNodeLabels=uppercase;edgeLabel=showEdgeLabel', false);
		xmlhttp.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				div_content = this.responseText;}
		}
		xmlhttp.send();
		console.log(div_content);
		
		document.getElementById("result").height=window.innerHeight;
		document.getElementById("result").width=window.innerWidth;
		var doc = document.getElementById("result").contentWindow.document;
		doc.open();
		doc.write(div_content);
		doc.close();
		localStorage.removeItem("subnet_params");
}

window.onresize = function()
{
	document.getElementById("result").height=window.innerHeight;
	document.getElementById("result").width=window.innerWidth;
}
</script>
</head>
<body onload=show()>
<iframe id="result"></div>
</body>
</html>